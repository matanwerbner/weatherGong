!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _components=__webpack_require__(1),_components2=_interopRequireDefault(_components);__webpack_require__(29),angular.module("app",["ionic",_components2["default"]]).run(function($ionicPlatform){$ionicPlatform.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}).config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/tab/dash")})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _tabs=__webpack_require__(2),_tabs2=_interopRequireDefault(_tabs);exports["default"]=angular.module("app.components",[_tabs2["default"]]).name},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dashboard=__webpack_require__(3),_dashboard2=_interopRequireDefault(_dashboard),_tabs=__webpack_require__(25),_tabs2=_interopRequireDefault(_tabs);__webpack_require__(27),exports["default"]=angular.module("app.components.tabs",[_dashboard2["default"]]).config(_tabs2["default"]).name},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dashboard=__webpack_require__(4),_dashboard2=_interopRequireDefault(_dashboard);__webpack_require__(21),exports["default"]=angular.module("app.components.tabs.dashboard",[]).config(_dashboard2["default"]).name},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dashboard=__webpack_require__(5),_dashboard2=_interopRequireDefault(_dashboard),_dashboard3=__webpack_require__(20),_dashboard4=_interopRequireDefault(_dashboard3);exports["default"]=function($stateProvider,$urlRouterProvider){$stateProvider.state("tab.dash",{url:"/dash",views:{"tab-dash":{template:_dashboard4["default"],controller:_dashboard2["default"]}}})}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0});var _store=__webpack_require__(6),_store2=_interopRequireDefault(_store),locationModalTemplate=__webpack_require__(19),connectSubscriptions=function(data,scope,$timeout){var hashKey=0;$timeout(function(){var _data=data.reduce(function(curr,next){return Object.assign(curr,_defineProperty({},hashKey++,next))},{});scope.currentData=scope.forecastData=_data})};exports["default"]=["$scope","$timeout","$ionicModal",function(scope,$timeout,$ionicModal){var subscriptionSelector=_store2["default"].select("subscriptions","subscribedLocations");connectSubscriptions(subscriptionSelector.get(),scope,$timeout),subscriptionSelector.on("update",function(e){connectSubscriptions(e.data.currentData,scope,$timeout)}),scope.modal=$ionicModal.fromTemplate(locationModalTemplate,{scope:scope,animation:"slide-in-up"}),scope.addLocation=function(){scope.modal.show()},scope.closeModal=function(){scope.modal.hide()}}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _consts=__webpack_require__(7),_subscriptionData=__webpack_require__(8),_subscriptionData2=_interopRequireDefault(_subscriptionData),Baobab=__webpack_require__(11);exports["default"]=new Baobab({locations:{},subscriptions:{ids:window.localStorage.getItem("subscriptions")||_consts.default_subscriptions,locations_data:[],subscribedLocations:_subscriptionData2["default"]}})},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default_subscriptions=[1,2]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _subscriptionData=__webpack_require__(9),_subscriptionData2=_interopRequireDefault(_subscriptionData),Baobab=__webpack_require__(11),monkey=Baobab.monkey;exports["default"]=monkey({cursors:{ids:["subscriptions","ids"],locations:["subscriptions","locations_data"]},get:function(state){var result=state.ids.map(function(id){debugger;var data=state.locations_data[id];return data||{id:id,loading:!0}});return(0,_subscriptionData2["default"])(result.filter(function(r){return r.loading})),result}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _index=__webpack_require__(6),_index2=_interopRequireDefault(_index),_config=__webpack_require__(10),_config2=_interopRequireDefault(_config);exports["default"]=function(ids){if(0==ids.length)return null;var dataSelector=_index2["default"].select("subscriptions","locations_data");fetch(_config2["default"].apiUrl+"/getSubscriptions",{method:"POST",body:JSON.stringify({ids:ids})}).then(function(response){return response.json()}).then(function(data){data.forEach(function(d){dataSelector.set(d.id,d)})})}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]={apiUrl:"http://some.url.to.api"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function hashPath(path){return"λ"+path.map(function(step){return _type2["default"]["function"](step)||_type2["default"].object(step)?"#"+uniqid()+"#":step}).join("λ")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x3,_x4,_x5){for(var _again=!0;_again;){var object=_x3,property=_x4,receiver=_x5;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x3=parent,_x4=property,_x5=receiver,_again=!0,desc=parent=void 0}},_emmett=__webpack_require__(12),_emmett2=_interopRequireDefault(_emmett),_cursor=__webpack_require__(13),_cursor2=_interopRequireDefault(_cursor),_monkey=__webpack_require__(14),_watcher=__webpack_require__(18),_watcher2=_interopRequireDefault(_watcher),_type=__webpack_require__(15),_type2=_interopRequireDefault(_type),_update2=__webpack_require__(16),_update3=_interopRequireDefault(_update2),_helpers=__webpack_require__(17),helpers=_interopRequireWildcard(_helpers),arrayFrom=helpers.arrayFrom,coercePath=helpers.coercePath,deepFreeze=helpers.deepFreeze,getIn=helpers.getIn,makeError=helpers.makeError,deepClone=helpers.deepClone,deepMerge=helpers.deepMerge,shallowClone=helpers.shallowClone,shallowMerge=helpers.shallowMerge,uniqid=helpers.uniqid,DEFAULTS={autoCommit:!0,asynchronous:!0,immutable:!0,lazyMonkeys:!0,persistent:!0,pure:!0,validate:null,validationBehavior:"rollback"},Baobab=function(_Emitter){function Baobab(initialData,opts){var _this=this;if(_classCallCheck(this,Baobab),_get(Object.getPrototypeOf(Baobab.prototype),"constructor",this).call(this),arguments.length<1&&(initialData={}),!_type2["default"].object(initialData)&&!_type2["default"].array(initialData))throw makeError("Baobab: invalid data.",{data:initialData});this.options=shallowMerge({},DEFAULTS,opts),this.options.persistent||(this.options.immutable=!1,this.options.pure=!1),this._identity="[object Baobab]",this._cursors={},this._future=null,this._transaction=[],this._affectedPathsIndex={},this._monkeys={},this._previousData=null,this._data=initialData,this.root=new _cursor2["default"](this,[],"λ"),delete this.root.release,this.options.immutable&&deepFreeze(this._data);var bootstrap=function(name){_this[name]=function(){var r=this.root[name].apply(this.root,arguments);return r instanceof _cursor2["default"]?this:r}};["apply","clone","concat","deepClone","deepMerge","exists","get","push","merge","pop","project","serialize","set","shift","splice","unset","unshift"].forEach(bootstrap),this._refreshMonkeys();var validationError=this.validate();if(validationError)throw Error("Baobab: invalid data.",{error:validationError})}return _inherits(Baobab,_Emitter),_createClass(Baobab,[{key:"_refreshMonkeys",value:function(node,path,operation){var _this2=this,clean=function clean(data){var p=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(data instanceof _monkey.Monkey)return data.release(),void(0,_update3["default"])(_this2._monkeys,p,{type:"unset"},{immutable:!1,persistent:!1,pure:!1});if(_type2["default"].object(data))for(var k in data)clean(data[k],p.concat(k))},walk=function walk(data){var p=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if(data instanceof _monkey.MonkeyDefinition||data instanceof _monkey.Monkey){var monkeyInstance=new _monkey.Monkey(_this2,p,data instanceof _monkey.Monkey?data.definition:data);return void(0,_update3["default"])(_this2._monkeys,p,{type:"set",value:monkeyInstance},{immutable:!1,persistent:!1,pure:!1})}if(_type2["default"].object(data))for(var k in data)walk(data[k],p.concat(k))};if(arguments.length){var monkeysNode=getIn(this._monkeys,path).data;monkeysNode&&clean(monkeysNode,path),"unset"!==operation&&walk(node,path)}else walk(this._data);return this}},{key:"validate",value:function validate(affectedPaths){var _options=this.options,validate=_options.validate,behavior=_options.validationBehavior;if("function"!=typeof validate)return null;var error=validate.call(this,this._previousData,this._data,affectedPaths||[[]]);return error instanceof Error?("rollback"===behavior&&(this._data=this._previousData,this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data),this.emit("invalid",{error:error}),error):null}},{key:"select",value:function(path){if(path=path||[],arguments.length>1&&(path=arrayFrom(arguments)),!_type2["default"].path(path))throw makeError("Baobab.select: invalid path.",{path:path});path=[].concat(path);var hash=hashPath(path),cursor=this._cursors[hash];return cursor||(cursor=new _cursor2["default"](this,path,hash),this._cursors[hash]=cursor),this.emit("select",{path:path,cursor:cursor}),cursor}},{key:"update",value:function(path,operation){var _this3=this;if(path=coercePath(path),!_type2["default"].operationType(operation.type))throw makeError('Baobab.update: unknown operation type "'+operation.type+'".',{operation:operation});var _getIn=getIn(this._data,path),solvedPath=_getIn.solvedPath,exists=_getIn.exists;if(!solvedPath)throw makeError("Baobab.update: could not solve the given path.",{path:solvedPath});var monkeyPath=_type2["default"].monkeyPath(this._monkeys,solvedPath);if(monkeyPath&&solvedPath.length>monkeyPath.length)throw makeError("Baobab.update: attempting to update a read-only path.",{path:solvedPath});if("unset"!==operation.type||exists){var realOperation=operation;if(/merge/i.test(operation.type)){var monkeysNode=getIn(this._monkeys,solvedPath).data;if(_type2["default"].object(monkeysNode)){realOperation=shallowClone(realOperation);var currentNode=getIn(this._data,solvedPath).data;/deep/i.test(realOperation.type)?realOperation.value=deepMerge({},deepMerge({},currentNode,deepClone(monkeysNode)),realOperation.value):realOperation.value=shallowMerge({},deepMerge({},currentNode,deepClone(monkeysNode)),realOperation.value)}}this._transaction.length||(this._previousData=this._data);var result=(0,_update3["default"])(this._data,solvedPath,realOperation,this.options),data=result.data,node=result.node;if(!("data"in result))return node;var affectedPath=solvedPath.concat("push"===operation.type?node.length-1:[]),hash=hashPath(affectedPath);return this._data=data,this._affectedPathsIndex[hash]=!0,this._transaction.push(shallowMerge({},operation,{path:affectedPath})),this._refreshMonkeys(node,solvedPath,operation.type),this.emit("write",{path:affectedPath}),this.options.autoCommit?this.options.asynchronous?(this._future||(this._future=setTimeout(function(){return _this3.commit()},0)),node):(this.commit(),node):node}}},{key:"commit",value:function(){if(!this._transaction.length)return this;this._future&&(this._future=clearTimeout(this._future));var affectedPaths=Object.keys(this._affectedPathsIndex).map(function(h){return"λ"!==h?h.split("λ").slice(1):[]}),validationError=this.validate(affectedPaths);if(validationError)return this;var transaction=this._transaction,previousData=this._previousData;return this._affectedPathsIndex={},this._transaction=[],this._previousData=this._data,this.emit("update",{paths:affectedPaths,currentData:this._data,transaction:transaction,previousData:previousData}),this}},{key:"getMonkey",value:function(path){path=coercePath(path);var monkey=getIn(this._monkeys,[].concat(path)).data;return monkey instanceof _monkey.Monkey?monkey:null}},{key:"watch",value:function(mapping){return new _watcher2["default"](this,mapping)}},{key:"release",value:function(){var k=void 0;this.emit("release"),delete this.root,delete this._data,delete this._previousData,delete this._transaction,delete this._affectedPathsIndex,delete this._monkeys;for(k in this._cursors)this._cursors[k].release();delete this._cursors,this.kill()}},{key:"toJSON",value:function(){return this.serialize()}},{key:"toString",value:function(){return this._identity}}]),Baobab}(_emmett2["default"]);exports["default"]=Baobab,Baobab.monkey=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(!args.length)throw new Error("Baobab.monkey: missing definition.");return 1===args.length&&"function"!=typeof args[0]?new _monkey.MonkeyDefinition(args[0]):new _monkey.MonkeyDefinition(args)},Baobab.dynamicNode=Baobab.monkey,Baobab.Cursor=_cursor2["default"],Baobab.MonkeyDefinition=_monkey.MonkeyDefinition,Baobab.Monkey=_monkey.Monkey,Baobab.type=_type2["default"],Baobab.helpers=helpers,Baobab.VERSION="2.3.2",module.exports=exports["default"]},function(module,exports,__webpack_require__){(function(){"use strict";function shallowMerge(o1,o2){var k,o={};for(k in o1)o[k]=o1[k];for(k in o2)o[k]=o2[k];return o}function isPlainObject(v){return v&&"object"==typeof v&&!Array.isArray(v)&&!(v instanceof Function)&&!(v instanceof RegExp)}function forIn(object,fn,scope){var symbols,k,i,l;for(k in object)fn.call(scope||null,k,object[k]);if(Object.getOwnPropertySymbols)for(symbols=Object.getOwnPropertySymbols(object),i=0,l=symbols.length;i<l;i++)fn.call(scope||null,symbols[i],object[symbols[i]])}function filter(target,fn){target=target||[];var l,i,a=[];for(i=0,l=target.length;i<l;i++)target[i].fn!==fn&&a.push(target[i]);return a}var __allowedOptions={once:"boolean",scope:"object"},__order=0,Emitter=function(){this._enabled=!0,this.unbindAll()};Emitter.prototype.unbindAll=function(){return this._handlers={},this._handlersAll=[],this._handlersComplex=[],this},Emitter.prototype.on=function(a,b,c){var i,l,k,event,eArray,handlersList,bindingObject;if(isPlainObject(a))return forIn(a,function(name,fn){this.on(name,fn,b)},this),this;for("function"==typeof a&&(c=b,b=a,a=null),eArray=[].concat(a),i=0,l=eArray.length;i<l;i++){if(event=eArray[i],bindingObject={order:__order++,fn:b},"string"==typeof event||"symbol"==typeof event)this._handlers[event]||(this._handlers[event]=[]),handlersList=this._handlers[event],bindingObject.type=event;else if(event instanceof RegExp)handlersList=this._handlersComplex,bindingObject.pattern=event;else{if(null!==event)throw Error("Emitter.on: invalid event.");handlersList=this._handlersAll}for(k in c||{})__allowedOptions[k]&&(bindingObject[k]=c[k]);handlersList.push(bindingObject)}return this},Emitter.prototype.once=function(){var args=Array.prototype.slice.call(arguments),li=args.length-1;return isPlainObject(args[li])&&args.length>1?args[li]=shallowMerge(args[li],{once:!0}):args.push({once:!0}),this.on.apply(this,args)},Emitter.prototype.off=function(events,fn){var i,n,k,event;if(1===arguments.length&&"function"==typeof events){fn=arguments[0];for(k in this._handlers)this._handlers[k]=filter(this._handlers[k],fn),0===this._handlers[k].length&&delete this._handlers[k];this._handlersAll=filter(this._handlersAll,fn),this._handlersComplex=filter(this._handlersComplex,fn)}else if(1!==arguments.length||"string"!=typeof events&&"symbol"!=typeof events)if(2===arguments.length){var eArray=[].concat(events);for(i=0,n=eArray.length;i<n;i++)event=eArray[i],this._handlers[event]=filter(this._handlers[event],fn),0===(this._handlers[event]||[]).length&&delete this._handlers[event]}else isPlainObject(events)&&forIn(events,this.off,this);else delete this._handlers[events];return this},Emitter.prototype.listeners=function(event){var h,i,l,handlers=this._handlersAll||[],complex=!1;if(!event)throw Error("Emitter.listeners: no event provided.");for(handlers=handlers.concat(this._handlers[event]||[]),i=0,l=this._handlersComplex.length;i<l;i++)h=this._handlersComplex[i],~event.search(h.pattern)&&(complex=!0,handlers.push(h));return this._handlersAll.length||complex?handlers.sort(function(a,b){return a.order-b.order}):handlers.slice(0)},Emitter.prototype.emit=function(events,data){if(!this._enabled)return this;if(isPlainObject(events))return forIn(events,this.emit,this),this;var event,parent,handlers,handler,i,j,l,m,eArray=[].concat(events),onces=[];for(i=0,l=eArray.length;i<l;i++){for(handlers=this.listeners(eArray[i]),j=0,m=handlers.length;j<m;j++)handler=handlers[j],event={type:eArray[i],target:this},arguments.length>1&&(event.data=data),handler.fn.call("scope"in handler?handler.scope:this,event),handler.once&&onces.push(handler);for(j=onces.length-1;j>=0;j--)parent=onces[j].type?this._handlers[onces[j].type]:onces[j].pattern?this._handlersComplex:this._handlersAll,parent.splice(parent.indexOf(onces[j]),1)}return this},Emitter.prototype.kill=function(){this.unbindAll(),this._handlers=null,this._handlersAll=null,this._handlersComplex=null,this._enabled=!1,this.unbindAll=this.on=this.once=this.off=this.emit=this.listeners=Function.prototype},Emitter.prototype.disable=function(){return this._enabled=!1,this},Emitter.prototype.enable=function(){return this._enabled=!0,this},Emitter.version="3.1.1","undefined"!=typeof module&&module.exports&&(exports=module.exports=Emitter),exports.Emitter=Emitter}).call(this)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function checkPossibilityOfDynamicTraversal(method,solvedPath){if(!solvedPath)throw(0,_helpers.makeError)("Baobab.Cursor."+method+": "+("cannot use "+method+" on an unresolved dynamic path."),{path:solvedPath})}function makeSetter(name,typeChecker){Cursor.prototype[name]=function(path,value){if(arguments.length>2)throw(0,_helpers.makeError)("Baobab.Cursor."+name+": too many arguments.");if(1!==arguments.length||INTRANSITIVE_SETTERS[name]||(value=path,path=[]),path=(0,_helpers.coercePath)(path),!_type2["default"].path(path))throw(0,_helpers.makeError)("Baobab.Cursor."+name+": invalid path.",{path:path});if(typeChecker&&!typeChecker(value))throw(0,_helpers.makeError)("Baobab.Cursor."+name+": invalid value.",{path:path,value:value});if(!this.solvedPath)throw(0,_helpers.makeError)("Baobab.Cursor."+name+": the dynamic path of the cursor cannot be solved.",{path:this.path});var fullPath=this.solvedPath.concat(path);return this.tree.update(fullPath,{type:name,value:value})}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x3,_x4,_x5){for(var _again=!0;_again;){var object=_x3,property=_x4,receiver=_x5;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x3=parent,_x4=property,_x5=receiver,_again=!0,desc=parent=void 0}},_emmett=__webpack_require__(12),_emmett2=_interopRequireDefault(_emmett),_monkey=__webpack_require__(14),_type=__webpack_require__(15),_type2=_interopRequireDefault(_type),_helpers=__webpack_require__(17),Cursor=function(_Emitter){function Cursor(tree,path,hash){var _this=this;_classCallCheck(this,Cursor),_get(Object.getPrototypeOf(Cursor.prototype),"constructor",this).call(this),path=path||[],this._identity="[object Cursor]",this._archive=null,this.tree=tree,this.path=path,this.hash=hash,this.state={killed:!1,recording:!1,undoing:!1},this._dynamicPath=_type2["default"].dynamicPath(this.path),this._monkeyPath=_type2["default"].monkeyPath(this.tree._monkeys,this.path),this._dynamicPath?this.solvedPath=(0,_helpers.getIn)(this.tree._data,this.path).solvedPath:this.solvedPath=this.path,this._writeHandler=function(_ref){var data=_ref.data;!_this.state.killed&&(0,_helpers.solveUpdate)([data.path],_this._getComparedPaths())&&(_this.solvedPath=(0,_helpers.getIn)(_this.tree._data,_this.path).solvedPath)};var fireUpdate=function(previousData){var self=_this,eventData=Object.defineProperties({},{previousData:{get:function(){return(0,_helpers.getIn)(previousData,self.solvedPath).data},configurable:!0,enumerable:!0},currentData:{get:function(){return self.get()},configurable:!0,enumerable:!0}});return _this.state.recording&&!_this.state.undoing&&_this.archive.add(eventData.previousData),_this.state.undoing=!1,_this.emit("update",eventData)};this._updateHandler=function(event){if(!_this.state.killed){var _event$data=event.data,paths=_event$data.paths,previousData=_event$data.previousData,update=fireUpdate.bind(_this,previousData),comparedPaths=_this._getComparedPaths();return(0,_helpers.solveUpdate)(paths,comparedPaths)?update():void 0}};var bound=!1;this._lazyBind=function(){if(!bound)return bound=!0,_this._dynamicPath&&_this.tree.on("write",_this._writeHandler),_this.tree.on("update",_this._updateHandler)},this._dynamicPath?this._lazyBind():(this.on=(0,_helpers.before)(this._lazyBind,this.on.bind(this)),this.once=(0,_helpers.before)(this._lazyBind,this.once.bind(this)))}return _inherits(Cursor,_Emitter),_createClass(Cursor,[{key:"_getComparedPaths",value:function(){var additionalPaths=this._monkeyPath?(0,_helpers.getIn)(this.tree._monkeys,this._monkeyPath).data.relatedPaths():[];return[this.solvedPath].concat(additionalPaths)}},{key:"isRoot",value:function(){return!this.path.length}},{key:"isLeaf",value:function(){return _type2["default"].primitive(this._get().data)}},{key:"isBranch",value:function(){return!this.isRoot()&&!this.isLeaf()}},{key:"root",value:function(){return this.tree.select()}},{key:"select",value:function(path){return arguments.length>1&&(path=(0,_helpers.arrayFrom)(arguments)),this.tree.select(this.path.concat(path))}},{key:"up",value:function(){return this.isRoot()?null:this.tree.select(this.path.slice(0,-1))}},{key:"down",value:function(){if(checkPossibilityOfDynamicTraversal("down",this.solvedPath),!(this._get().data instanceof Array))throw Error("Baobab.Cursor.down: cannot go down on a non-list type.");return this.tree.select(this.solvedPath.concat(0))}},{key:"left",value:function(){checkPossibilityOfDynamicTraversal("left",this.solvedPath);var last=+this.solvedPath[this.solvedPath.length-1];if(isNaN(last))throw Error("Baobab.Cursor.left: cannot go left on a non-list type.");return last?this.tree.select(this.solvedPath.slice(0,-1).concat(last-1)):null}},{key:"right",value:function(){checkPossibilityOfDynamicTraversal("right",this.solvedPath);var last=+this.solvedPath[this.solvedPath.length-1];if(isNaN(last))throw Error("Baobab.Cursor.right: cannot go right on a non-list type.");return last+1===this.up()._get().data.length?null:this.tree.select(this.solvedPath.slice(0,-1).concat(last+1))}},{key:"leftmost",value:function(){checkPossibilityOfDynamicTraversal("leftmost",this.solvedPath);var last=+this.solvedPath[this.solvedPath.length-1];if(isNaN(last))throw Error("Baobab.Cursor.leftmost: cannot go left on a non-list type.");return this.tree.select(this.solvedPath.slice(0,-1).concat(0))}},{key:"rightmost",value:function(){checkPossibilityOfDynamicTraversal("rightmost",this.solvedPath);var last=+this.solvedPath[this.solvedPath.length-1];if(isNaN(last))throw Error("Baobab.Cursor.rightmost: cannot go right on a non-list type.");var list=this.up()._get().data;return this.tree.select(this.solvedPath.slice(0,-1).concat(list.length-1))}},{key:"map",value:function(fn,scope){checkPossibilityOfDynamicTraversal("map",this.solvedPath);var array=this._get().data,l=arguments.length;if(!_type2["default"].array(array))throw Error("baobab.Cursor.map: cannot map a non-list type.");return array.map(function(item,i){return fn.call(l>1?scope:this,this.select(i),i,array)},this)}},{key:"_get",value:function(){var path=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(!_type2["default"].path(path))throw(0,_helpers.makeError)("Baobab.Cursor.getters: invalid path.",{path:path});return this.solvedPath?(0,_helpers.getIn)(this.tree._data,this.solvedPath.concat(path)):{data:void 0,solvedPath:null,exists:!1}}},{key:"exists",value:function(path){return path=(0,_helpers.coercePath)(path),arguments.length>1&&(path=(0,_helpers.arrayFrom)(arguments)),this._get(path).exists}},{key:"get",value:function(path){path=(0,_helpers.coercePath)(path),arguments.length>1&&(path=(0,_helpers.arrayFrom)(arguments));var _get2=this._get(path),data=_get2.data,solvedPath=_get2.solvedPath;return this.tree.emit("get",{data:data,solvedPath:solvedPath,path:this.path.concat(path)}),data}},{key:"clone",value:function(){var data=this.get.apply(this,arguments);return(0,_helpers.shallowClone)(data)}},{key:"deepClone",value:function(){var data=this.get.apply(this,arguments);return(0,_helpers.deepClone)(data)}},{key:"serialize",value:function(path){if(path=(0,_helpers.coercePath)(path),arguments.length>1&&(path=(0,_helpers.arrayFrom)(arguments)),!_type2["default"].path(path))throw(0,_helpers.makeError)("Baobab.Cursor.getters: invalid path.",{path:path});if(this.solvedPath){var fullPath=this.solvedPath.concat(path),data=(0,_helpers.deepClone)((0,_helpers.getIn)(this.tree._data,fullPath).data),monkeys=(0,_helpers.getIn)(this.tree._monkeys,fullPath).data,dropComputedData=function dropComputedData(d,m){if(_type2["default"].object(m)&&_type2["default"].object(d))for(var k in m)m[k]instanceof _monkey.Monkey?delete d[k]:dropComputedData(d[k],m[k])};return dropComputedData(data,monkeys),data}}},{key:"project",value:function(projection){if(_type2["default"].object(projection)){var data={};for(var k in projection)data[k]=this.get(projection[k]);return data}if(_type2["default"].array(projection)){for(var data=[],i=0,l=projection.length;i<l;i++)data.push(this.get(projection[i]));return data}throw(0,_helpers.makeError)("Baobab.Cursor.project: wrong projection.",{projection:projection})}},{key:"startRecording",value:function(maxRecords){if(maxRecords=maxRecords||1/0,maxRecords<1)throw(0,_helpers.makeError)("Baobab.Cursor.startRecording: invalid max records.",{value:maxRecords});return this.state.recording=!0,this.archive?this:(this._lazyBind(),this.archive=new _helpers.Archive(maxRecords),this)}},{key:"stopRecording",value:function(){return this.state.recording=!1,this}},{key:"undo",value:function(){var steps=arguments.length<=0||void 0===arguments[0]?1:arguments[0];if(!this.state.recording)throw new Error("Baobab.Cursor.undo: cursor is not recording.");var record=this.archive.back(steps);if(!record)throw Error("Baobab.Cursor.undo: cannot find a relevant record.");return this.state.undoing=!0,this.set(record),this}},{key:"hasHistory",value:function(){return!(!this.archive||!this.archive.get().length)}},{key:"getHistory",value:function(){return this.archive?this.archive.get():[]}},{key:"clearHistory",value:function(){return this.archive&&this.archive.clear(),this}},{key:"release",value:function(){this._dynamicPath&&this.tree.off("write",this._writeHandler),this.tree.off("update",this._updateHandler),this.hash&&delete this.tree._cursors[this.hash],delete this.tree,delete this.path,delete this.solvedPath,delete this.archive,this.kill(),this.state.killed=!0}},{key:"toJSON",value:function(){return this.serialize()}},{key:"toString",value:function(){return this._identity}}]),Cursor}(_emmett2["default"]);exports["default"]=Cursor,"function"==typeof Symbol&&"undefined"!=typeof Symbol.iterator&&(Cursor.prototype[Symbol.iterator]=function(){var array=this._get().data;if(!_type2["default"].array(array))throw Error("baobab.Cursor.@@iterate: cannot iterate a non-list type.");
var i=0,cursor=this,length=array.length;return{next:function(){return i<length?{value:cursor.select(i++)}:{done:!0}}}});var INTRANSITIVE_SETTERS={unset:!0,pop:!0,shift:!0};makeSetter("set"),makeSetter("unset"),makeSetter("apply",_type2["default"]["function"]),makeSetter("push"),makeSetter("concat",_type2["default"].array),makeSetter("unshift"),makeSetter("pop"),makeSetter("shift"),makeSetter("splice",_type2["default"].splicer),makeSetter("merge",_type2["default"].object),makeSetter("deepMerge",_type2["default"].object),module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_type=__webpack_require__(15),_type2=_interopRequireDefault(_type),_update2=__webpack_require__(16),_update3=_interopRequireDefault(_update2),_helpers=__webpack_require__(17),MonkeyDefinition=function MonkeyDefinition(definition){var _this=this;_classCallCheck(this,MonkeyDefinition);var monkeyType=_type2["default"].monkeyDefinition(definition);if(!monkeyType)throw(0,_helpers.makeError)("Baobab.monkey: invalid definition.",{definition:definition});if(this.type=monkeyType,"object"===this.type)this.getter=definition.get,this.projection=definition.cursors||{},this.paths=Object.keys(this.projection).map(function(k){return _this.projection[k]}),this.options=definition.options||{};else{var offset=1,options={};_type2["default"].object(definition[definition.length-1])&&(offset++,options=definition[definition.length-1]),this.getter=definition[definition.length-offset],this.projection=definition.slice(0,-offset),this.paths=this.projection,this.options=options}this.paths=this.paths.map(function(p){return[].concat(p)}),this.hasDynamicPaths=this.paths.some(_type2["default"].dynamicPath)};exports.MonkeyDefinition=MonkeyDefinition;var Monkey=function(){function Monkey(tree,pathInTree,definition){var _this2=this;_classCallCheck(this,Monkey),this.tree=tree,this.path=pathInTree,this.definition=definition;var projection=definition.projection,relative=_helpers.solveRelativePath.bind(null,pathInTree.slice(0,-1));"object"===definition.type?(this.projection=Object.keys(projection).reduce(function(acc,k){return acc[k]=relative(projection[k]),acc},{}),this.depPaths=Object.keys(this.projection).map(function(k){return _this2.projection[k]})):(this.projection=projection.map(relative),this.depPaths=this.projection),this.state={killed:!1},this.writeListener=function(_ref){var path=_ref.data.path;if(!_this2.state.killed){var concerned=(0,_helpers.solveUpdate)([path],_this2.relatedPaths());concerned&&_this2.update()}},this.recursiveListener=function(_ref2){var _ref2$data=_ref2.data,monkey=_ref2$data.monkey,path=_ref2$data.path;if(!_this2.state.killed&&_this2!==monkey){var concerned=(0,_helpers.solveUpdate)([path],_this2.relatedPaths(!1));concerned&&_this2.update()}},this.tree.on("write",this.writeListener),this.tree.on("_monkey",this.recursiveListener),this.update()}return _createClass(Monkey,[{key:"relatedPaths",value:function(){var _this3=this,recursive=arguments.length<=0||void 0===arguments[0]||arguments[0],paths=void 0;paths=this.definition.hasDynamicPaths?this.depPaths.map(function(p){return(0,_helpers.getIn)(_this3.tree._data,p).solvedPath}):this.depPaths;var isRecursive=recursive&&this.depPaths.some(function(p){return!!_type2["default"].monkeyPath(_this3.tree._monkeys,p)});return isRecursive?paths.reduce(function(accumulatedPaths,path){var monkeyPath=_type2["default"].monkeyPath(_this3.tree._monkeys,path);if(!monkeyPath)return accumulatedPaths.concat([path]);var relatedMonkey=(0,_helpers.getIn)(_this3.tree._monkeys,monkeyPath).data;return accumulatedPaths.concat(relatedMonkey.relatedPaths())},[]):paths}},{key:"update",value:function(){var deps=this.tree.project(this.projection),lazyGetter=function(tree,def,data){var cache=null,alreadyComputed=!1;return function(){return alreadyComputed||(cache=def.getter.apply(tree,"object"===def.type?[data]:data),tree.options.immutable&&def.options.immutable!==!1&&(0,_helpers.deepFreeze)(cache),alreadyComputed=!0),cache}}(this.tree,this.definition,deps);if(lazyGetter.isLazyGetter=!0,this.tree.options.lazyMonkeys)this.tree._data=(0,_update3["default"])(this.tree._data,this.path,{type:"monkey",value:lazyGetter},this.tree.options).data;else{var result=(0,_update3["default"])(this.tree._data,this.path,{type:"set",value:lazyGetter(),options:{mutableLeaf:!this.definition.options.immutable}},this.tree.options);"data"in result&&(this.tree._data=result.data)}return this.tree.emit("_monkey",{monkey:this,path:this.path}),this}},{key:"release",value:function(){this.tree.off("write",this.writeListener),this.tree.off("_monkey",this.monkeyListener),this.state.killed=!0,delete this.projection,delete this.depPaths,delete this.tree}}]),Monkey}();exports.Monkey=Monkey},function(module,exports,__webpack_require__){"use strict";function anyOf(target,allowed){return allowed.some(function(t){return type[t](target)})}Object.defineProperty(exports,"__esModule",{value:!0});var _monkey=__webpack_require__(14),type={};type.array=function(target){return Array.isArray(target)},type.object=function(target){return target&&"object"==typeof target&&!Array.isArray(target)&&!(target instanceof Date)&&!(target instanceof RegExp)&&!("function"==typeof Map&&target instanceof Map)&&!("function"==typeof Set&&target instanceof Set)},type.string=function(target){return"string"==typeof target},type.number=function(target){return"number"==typeof target},type["function"]=function(target){return"function"==typeof target},type.primitive=function(target){return target!==Object(target)},type.splicer=function(target){return!(!type.array(target)||target.length<2)&&(anyOf(target[0],["number","function","object"])&&type.number(target[1]))};var ALLOWED_FOR_PATH=["string","number","function","object"];type.path=function(target){return!(!target&&0!==target&&""!==target)&&[].concat(target).every(function(step){return anyOf(step,ALLOWED_FOR_PATH)})},type.dynamicPath=function(path){return path.some(function(step){return type["function"](step)||type.object(step)})},type.monkeyPath=function(data,path){var subpath=[],c=data,i=void 0,l=void 0;for(i=0,l=path.length;i<l;i++){if(subpath.push(path[i]),"object"!=typeof c)return null;if(c=c[path[i]],c instanceof _monkey.Monkey)return subpath}return null},type.lazyGetter=function(o,propertyKey){var descriptor=Object.getOwnPropertyDescriptor(o,propertyKey);return descriptor&&descriptor.get&&descriptor.get.isLazyGetter===!0},type.monkeyDefinition=function(definition){if(type.object(definition))return type["function"](definition.get)&&(!definition.cursors||type.object(definition.cursors)&&Object.keys(definition.cursors).every(function(k){return type.path(definition.cursors[k])}))?"object":null;if(type.array(definition)){var offset=1;return type.object(definition[definition.length-1])&&offset++,type["function"](definition[definition.length-offset])&&definition.slice(0,-offset).every(function(p){return type.path(p)})?"array":null}return null},type.watcherMapping=function(definition){return type.object(definition)&&Object.keys(definition).every(function(k){return type.path(definition[k])})};var VALID_OPERATIONS=["set","apply","push","unshift","concat","pop","shift","deepMerge","merge","splice","unset"];type.operationType=function(string){return"string"==typeof string&&!!~VALID_OPERATIONS.indexOf(string)},exports["default"]=type,module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function err(operation,expectedTarget,path){return(0,_helpers.makeError)('Baobab.update: cannot apply the "'+operation+'" on '+("a non "+expectedTarget+" (path: /"+path.join("/")+")."),{path:path})}function update(data,path,operation){var opts=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],operationType=operation.type,value=operation.value,_operation$options=operation.options,operationOptions=void 0===_operation$options?{}:_operation$options,dummy={root:data},dummyPath=["root"].concat(_toConsumableArray(path)),currentPath=[],p=dummy,i=void 0,l=void 0,s=void 0;for(i=0,l=dummyPath.length;i<l;i++){if(s=dummyPath[i],i>0&&currentPath.push(s),i===l-1){if("set"===operationType){if(opts.pure&&p[s]===value)return{node:p[s]};_type2["default"].lazyGetter(p,s)?Object.defineProperty(p,s,{value:value,enumerable:!0,configurable:!0}):opts.persistent&&!operationOptions.mutableLeaf?p[s]=(0,_helpers.shallowClone)(value):p[s]=value}else if("monkey"===operationType)Object.defineProperty(p,s,{get:value,enumerable:!0,configurable:!0});else if("apply"===operationType){var result=value(p[s]);if(opts.pure&&p[s]===result)return{node:p[s]};_type2["default"].lazyGetter(p,s)?Object.defineProperty(p,s,{value:result,enumerable:!0,configurable:!0}):opts.persistent?p[s]=(0,_helpers.shallowClone)(result):p[s]=result}else if("push"===operationType){if(!_type2["default"].array(p[s]))throw err("push","array",currentPath);opts.persistent?p[s]=p[s].concat([value]):p[s].push(value)}else if("unshift"===operationType){if(!_type2["default"].array(p[s]))throw err("unshift","array",currentPath);opts.persistent?p[s]=[value].concat(p[s]):p[s].unshift(value)}else if("concat"===operationType){if(!_type2["default"].array(p[s]))throw err("concat","array",currentPath);opts.persistent?p[s]=p[s].concat(value):p[s].push.apply(p[s],value)}else if("splice"===operationType){if(!_type2["default"].array(p[s]))throw err("splice","array",currentPath);opts.persistent?p[s]=_helpers.splice.apply(null,[p[s]].concat(value)):p[s].splice.apply(p[s],value)}else if("pop"===operationType){if(!_type2["default"].array(p[s]))throw err("pop","array",currentPath);opts.persistent?p[s]=(0,_helpers.splice)(p[s],-1,1):p[s].pop()}else if("shift"===operationType){if(!_type2["default"].array(p[s]))throw err("shift","array",currentPath);opts.persistent?p[s]=(0,_helpers.splice)(p[s],0,1):p[s].shift()}else if("unset"===operationType)_type2["default"].object(p)?delete p[s]:_type2["default"].array(p)&&p.splice(s,1);else if("merge"===operationType){if(!_type2["default"].object(p[s]))throw err("merge","object",currentPath);opts.persistent?p[s]=(0,_helpers.shallowMerge)({},p[s],value):p[s]=(0,_helpers.shallowMerge)(p[s],value)}else if("deepMerge"===operationType){if(!_type2["default"].object(p[s]))throw err("deepMerge","object",currentPath);opts.persistent?p[s]=(0,_helpers.deepMerge)({},p[s],value):p[s]=(0,_helpers.deepMerge)(p[s],value)}opts.immutable&&!operationOptions.mutableLeaf&&(0,_helpers.deepFreeze)(p);break}_type2["default"].primitive(p[s])?p[s]={}:opts.persistent&&(p[s]=(0,_helpers.shallowClone)(p[s])),opts.immutable&&l>0&&(0,_helpers.freeze)(p),p=p[s]}return _type2["default"].lazyGetter(p,s)?{data:dummy.root}:{data:dummy.root,node:p[s]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=update;var _type=__webpack_require__(15),_type2=_interopRequireDefault(_type),_helpers=__webpack_require__(17);module.exports=exports["default"]},function(module,exports,__webpack_require__){(function(global){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function index(a,fn){var i=void 0,l=void 0;for(i=0,l=a.length;i<l;i++)if(fn(a[i]))return i;return-1}function slice(array){var newArray=new Array(array.length),i=void 0,l=void 0;for(i=0,l=array.length;i<l;i++)newArray[i]=array[i];return newArray}function arrayFrom(culprit){return slice(culprit)}function before(decorator,fn){return function(){decorator.apply(null,arguments),fn.apply(null,arguments)}}function cloneRegexp(re){var pattern=re.source,flags="";return re.global&&(flags+="g"),re.multiline&&(flags+="m"),re.ignoreCase&&(flags+="i"),re.sticky&&(flags+="y"),re.unicode&&(flags+="u"),new RegExp(pattern,flags)}function cloner(deep,item){if(!item||"object"!=typeof item||item instanceof Error||item instanceof _monkey.MonkeyDefinition||item instanceof _monkey.Monkey||"ArrayBuffer"in global&&item instanceof ArrayBuffer)return item;if(_type2["default"].array(item)){if(deep){var a=[],i=void 0,l=void 0;for(i=0,l=item.length;i<l;i++)a.push(cloner(!0,item[i]));return a}return slice(item)}if(item instanceof Date)return new Date(item.getTime());if(item instanceof RegExp)return cloneRegexp(item);if(_type2["default"].object(item)){var o={},k=void 0;for(k in item)_type2["default"].lazyGetter(item,k)?Object.defineProperty(o,k,{get:Object.getOwnPropertyDescriptor(item,k).get,enumerable:!0,configurable:!0}):item.hasOwnProperty(k)&&(o[k]=deep?cloner(!0,item[k]):item[k]);return o}return item}function coercePath(target){return target||0===target||""===target?target:[]}function compare(object,description){var ok=!0,k=void 0;if(!object)return!1;for(k in description)if(_type2["default"].object(description[k]))ok=ok&&compare(object[k],description[k]);else if(_type2["default"].array(description[k]))ok=ok&&!!~description[k].indexOf(object[k]);else if(object[k]!==description[k])return!1;return ok}function freezer(deep,o){if(!("object"!=typeof o||null===o||o instanceof _monkey.Monkey)&&(Object.freeze(o),deep))if(Array.isArray(o)){var i=void 0,l=void 0;for(i=0,l=o.length;i<l;i++)freezer(!0,o[i])}else{var p=void 0,k=void 0;for(k in o)_type2["default"].lazyGetter(o,k)||(p=o[k],p&&o.hasOwnProperty(k)&&"object"==typeof p&&!Object.isFrozen(p)&&freezer(!0,p))}}function getIn(object,path){if(!path)return NOT_FOUND_OBJECT;var solvedPath=[],exists=!0,c=object,idx=void 0,i=void 0,l=void 0;for(i=0,l=path.length;i<l;i++){if(!c)return{data:void 0,solvedPath:solvedPath.concat(path.slice(i)),exists:!1};if("function"==typeof path[i]){if(!_type2["default"].array(c))return NOT_FOUND_OBJECT;if(idx=index(c,path[i]),!~idx)return NOT_FOUND_OBJECT;solvedPath.push(idx),c=c[idx]}else if("object"==typeof path[i]){if(!_type2["default"].array(c))return NOT_FOUND_OBJECT;if(idx=index(c,function(e){return compare(e,path[i])}),!~idx)return NOT_FOUND_OBJECT;solvedPath.push(idx),c=c[idx]}else solvedPath.push(path[i]),exists="object"==typeof c&&path[i]in c,c=c[path[i]]}return{data:c,solvedPath:solvedPath,exists:exists}}function makeError(message,data){var err=new Error(message);for(var k in data)err[k]=data[k];return err}function merger(deep){for(var _len=arguments.length,objects=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)objects[_key-1]=arguments[_key];var o=objects[0],t=void 0,i=void 0,l=void 0,k=void 0;for(i=1,l=objects.length;i<l;i++){t=objects[i];for(k in t)!deep||!_type2["default"].object(t[k])||t[k]instanceof _monkey.Monkey?o[k]=t[k]:o[k]=merger(!0,o[k]||{},t[k])}return o}function solveRelativePath(base,to){var solvedPath=[];to=[].concat(to);for(var i=0,l=to.length;i<l;i++){var step=to[i];"."===step?i||(solvedPath=base.slice(0)):".."===step?solvedPath=(i?solvedPath:base).slice(0,-1):solvedPath.push(step)}return solvedPath}function solveUpdate(affectedPaths,comparedPaths){var i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,p=void 0,c=void 0,s=void 0;for(i=0,l=affectedPaths.length;i<l;i++){if(p=affectedPaths[i],!p.length)return!0;for(j=0,m=comparedPaths.length;j<m;j++){if(c=comparedPaths[j],!c||!c.length)return!0;for(k=0,n=c.length;k<n&&(s=c[k],s==p[k]);k++)if(k+1===n||k+1===p.length)return!0}}return!1}function splice(array,startIndex,nb){nb=Math.max(0,nb),_type2["default"]["function"](startIndex)&&(startIndex=index(array,startIndex)),_type2["default"].object(startIndex)&&(startIndex=index(array,function(e){return compare(e,startIndex)}));for(var _len2=arguments.length,elements=Array(_len2>3?_len2-3:0),_key2=3;_key2<_len2;_key2++)elements[_key2-3]=arguments[_key2];return startIndex>=0?array.slice(0,startIndex).concat(elements).concat(array.slice(startIndex+nb)):array.slice(0,array.length+startIndex).concat(elements).concat(array.slice(array.length+startIndex+nb))}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.arrayFrom=arrayFrom,exports.before=before,exports.coercePath=coercePath,exports.getIn=getIn,exports.makeError=makeError,exports.solveRelativePath=solveRelativePath,exports.solveUpdate=solveUpdate,exports.splice=splice;var _monkey=__webpack_require__(14),_type=__webpack_require__(15),_type2=_interopRequireDefault(_type),noop=Function.prototype,Archive=function(){function Archive(size){_classCallCheck(this,Archive),this.size=size,this.records=[]}return _createClass(Archive,[{key:"get",value:function(){return this.records}},{key:"add",value:function(record){return this.records.unshift(record),this.records.length>this.size&&(this.records.length=this.size),this}},{key:"clear",value:function(){return this.records=[],this}},{key:"back",value:function(steps){var record=this.records[steps-1];return record&&(this.records=this.records.slice(steps)),record}}]),Archive}();exports.Archive=Archive;var shallowClone=cloner.bind(null,!1),deepClone=cloner.bind(null,!0);exports.shallowClone=shallowClone,exports.deepClone=deepClone;var isFreezeSupported="function"==typeof Object.freeze,freeze=isFreezeSupported?freezer.bind(null,!1):noop,deepFreeze=isFreezeSupported?freezer.bind(null,!0):noop;exports.freeze=freeze,exports.deepFreeze=deepFreeze;var NOT_FOUND_OBJECT={data:void 0,solvedPath:null,exists:!1},shallowMerge=merger.bind(null,!1),deepMerge=merger.bind(null,!0);exports.shallowMerge=shallowMerge,exports.deepMerge=deepMerge;var uniqid=function(){var i=0;return function(){return i++}}();exports.uniqid=uniqid}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function(_x,_x2,_x3){for(var _again=!0;_again;){var object=_x,property=_x2,receiver=_x3;_again=!1,null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0!==desc){if("value"in desc)return desc.value;var getter=desc.get;if(void 0===getter)return;return getter.call(receiver)}var parent=Object.getPrototypeOf(object);if(null===parent)return;_x=parent,_x2=property,_x3=receiver,_again=!0,desc=parent=void 0}},_emmett=__webpack_require__(12),_emmett2=_interopRequireDefault(_emmett),_cursor=__webpack_require__(13),_cursor2=_interopRequireDefault(_cursor),_type=__webpack_require__(15),_type2=_interopRequireDefault(_type),_helpers=__webpack_require__(17),Watcher=function(_Emitter){function Watcher(tree,mapping){var _this=this;_classCallCheck(this,Watcher),_get(Object.getPrototypeOf(Watcher.prototype),"constructor",this).call(this),this.tree=tree,this.mapping=null,this.state={killed:!1},this.refresh(mapping),this.handler=function(e){if(!_this.state.killed){var watchedPaths=_this.getWatchedPaths();return(0,_helpers.solveUpdate)(e.data.paths,watchedPaths)?_this.emit("update"):void 0}},this.tree.on("update",this.handler)}return _inherits(Watcher,_Emitter),_createClass(Watcher,[{key:"getWatchedPaths",value:function(){var _this2=this,rawPaths=Object.keys(this.mapping).map(function(k){var v=_this2.mapping[k];return v instanceof _cursor2["default"]?v.solvedPath:_this2.mapping[k]});return rawPaths.reduce(function(cp,p){if(p=[].concat(p),_type2["default"].dynamicPath(p)&&(p=(0,_helpers.getIn)(_this2.tree._data,p).solvedPath),!p)return cp;var monkeyPath=_type2["default"].monkeyPath(_this2.tree._monkeys,p);return monkeyPath?cp.concat((0,_helpers.getIn)(_this2.tree._monkeys,monkeyPath).data.relatedPaths()):cp.concat([p])},[])}},{key:"getCursors",value:function(){var _this3=this,cursors={};return Object.keys(this.mapping).forEach(function(k){var path=_this3.mapping[k];path instanceof _cursor2["default"]?cursors[k]=path:cursors[k]=_this3.tree.select(path)}),cursors}},{key:"refresh",value:function(mapping){if(!_type2["default"].watcherMapping(mapping))throw(0,_helpers.makeError)("Baobab.watch: invalid mapping.",{mapping:mapping});this.mapping=mapping;var projection={};for(var k in mapping)projection[k]=mapping[k]instanceof _cursor2["default"]?mapping[k].path:mapping[k];this.get=this.tree.project.bind(this.tree,projection)}},{key:"release",value:function(){this.tree.off("update",this.handler),this.state.killed=!0,this.kill()}}]),Watcher}(_emmett2["default"]);exports["default"]=Watcher,module.exports=exports["default"]},function(module,exports){module.exports='<ion-modal-view> <ion-header-bar> <h1 class=title>Modal Title</h1> </ion-header-bar> <ion-content> <button class="button icon icon-left ion-ios-close-outline" ng-click=closeModal()>Close Modal</button> </ion-content> </ion-modal-view>'},function(module,exports){module.exports='<ion-view view-title=Dashboard> <ion-nav-title> WEATHER GONG </ion-nav-title> <ion-content class=padding id=dashboard-page-container> <div class=current-weather-container> <div class="row header"> <div class=col> </div> <div class=col>ספוט</div> <div class=col>שעה</div> <div class=col>עוצמת רוח</div> <div class=col>כיוון</div> <div class=col>טמפ\'</div> <div class=col>גובה גל</div> <div class=col>כיוון</div> <div class=col></div> </div> <div class=row ng-repeat="row in currentData"> <div class=col> <button class="icon ion-ios-minus-outline"></button> </div> <div class=col>{{ row.location }}</div> <div class=col>{{ row.time }}</div> <div class=col>{{ row.wind }}</div> <div class=col>{{ row.windDirection }}</div> <div class=col>{{ row.temperature }}</div> <div class=col>{{ row.wave }}</div> <div class=col>{{ row.waveDirection }}</div> <div class=col> <button class="icon ion-ios-camera-outline"/></div> </div> <div class=row> <div class=col> <button class="button icon ion-ios-plus-outline" ng-click=addLocation()></button> </div> </div> </div> <div class=forecast-container> <h3>תחזית (מצב שיא)</h3> <div class="row header"> <div class=col> </div> <div class=col>ספוט</div> <div class=col>משעה</div> <div class=col>רוח</div> <div class=col>כיוון</div> <div class=col>טמפ\'</div> <div class=col>עד שעה</div> <div class=col>רוח</div> <div class=col>כיוון</div> </div> <div class=row ng-repeat="row in forecastData"> <div class=col> <button class="icon ion-ios-minus-outline"></button> </div> <div class=col>{{ row.location }}</div> <div class=col>{{ row.time }}</div> <div class=col>{{ row.wind }}</div> <div class=col>{{ row.windDirection }}</div> <div class=col>{{ row.temperature }}</div> <div class=col>{{ row.wave }}</div> <div class=col>{{ row.waveDirection }}</div> </div> <div class=row> <div class=col> <button class="button icon ion-ios-plus-outline" ng-click=addLocation()></button> </div> </div> </div> </ion-content> </ion-view>'},function(module,exports,__webpack_require__){var content=__webpack_require__(22);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(24)(content,{});content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(23)(),exports.push([module.id,"#dashboard-page-container .scroll>div{margin-bottom:60px}#dashboard-page-container .scroll>div .col{text-align:right}#dashboard-page-container .scroll>div .col button.icon{font-size:21px;line-height:0;background:none;padding:0;margin:0;outline:0;border:none}",""])},function(module,exports){module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0;i<this.length;i++){var item=this[i];item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1])}return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement(),lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");head.appendChild(styleElement)}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);idx>=0&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return styleElement.type="text/css",insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return linkElement.rel="stylesheet",insertStyleElement(options,linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,sourceMap=obj.sourceMap;sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return"undefined"==typeof memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");options=options||{},"undefined"==typeof options.singleton&&(options.singleton=isOldIE()),"undefined"==typeof options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function($stateProvider,$urlRouterProvider){
$stateProvider.state("tab",{url:"/tab","abstract":!0,template:__webpack_require__(26)})}},function(module,exports){module.exports='<ion-tabs class="tabs-icon-top tabs-color-active-positive"> <ion-tab icon-off=ion-ios-home icon-on=ion-ios-home href=#/tab/dash> <ion-nav-view name=tab-dash></ion-nav-view> </ion-tab> <ion-tab title=תחזית href=#/tab/chats> <ion-nav-view name=tab-chats></ion-nav-view> </ion-tab> <ion-tab title="זמן אמת" href=#/tab/account> <ion-nav-view name=tab-account></ion-nav-view> </ion-tab> <ion-tab title="ההתראות שלי" href=#/tab/account> <ion-nav-view name=tab-account></ion-nav-view> </ion-tab> </ion-tabs>'},function(module,exports,__webpack_require__){var content=__webpack_require__(28);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(24)(content,{});content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(23)(),exports.push([module.id,".tabs-icon-top>.tabs .tab-item{line-height:40px;font-size:15px}",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(30);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(24)(content,{});content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(23)(),exports.push([module.id,"body{direction:rtl}",""])}]);
//# sourceMappingURL=bundle.js.map